{"version":3,"sources":["webpack:///./src/components/index.js","webpack:///./src/pages/index.js"],"names":["Box","memo","styled","withConfig","componentId","props","_css","p","_a","Object","keys","filter","key","includes","reduce","obj","k","_c","usePreview","createContext","_ref3","code","scope","useEffect","transformed","transform","presets","decoratorsLegacy","transformCode","_construct","Function","_toConsumableArray","concat","apply","values","Preview","_ref4","_objectWithoutPropertiesLoose","react_default","a","createElement","assign","id","CodeEditor","_Component","_this","call","this","updateContent","ev","value","setState","onChange","state","_inheritsLoose","getDerivedStateFromProps","prevValueProp","prototype","render","_this$props","rest","lib","height","theme","language","options","fontSize","Component","ErrorBoundary","_Component2","_this2","error","errorInfo","_proto2","componentDidCatch","setTimeout","bind","flex","as","color","toString","componentStack","children","React","Fragment","element","ReactDOM","document","getElementById","useContext","useState","useRef","useReducer","useMemo","useCallback","View","_ref2","src","N","source","uri","imageStyle","resizeMode","Text","Button","initialCode","App","_useState","setCode","components_CodeEditor","position","top","right","width","bg","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","components_ErrorBoundary","components_Preview"],"mappings":"i2CAMO,IAAMA,EAAMC,eAAKC,YAAO,OAARC,WAAA,CAAAC,YAAA,gBAACF,CAAc,SAAAG,GAAK,OAAIC,EAAKD,MAEvCC,EAAO,SAAAC,GAChB,IAAMC,EAAK,CACP,eACA,aACA,YACA,cACA,qBACA,kBACA,oBACA,yBACA,0BACA,oBACA,cACA,kBACA,kBACA,eACA,mBACA,mBACA,cACA,iBACA,sBACA,uBACA,iBACA,cACA,SACA,QACA,mBACA,YACA,UACA,YACA,OACA,YACA,gBACA,WACA,aACA,WACA,aACA,WACA,YACA,cACA,aACA,SACA,qBACA,iBACA,OACA,gBACA,aACA,SACA,eACA,mBACA,aACA,cACA,YACA,iBACA,YACA,WACA,YACA,WACA,UACA,WACA,eACA,UACA,gBACA,oBACA,cACA,eACA,aACA,kBACA,WACA,aACA,QACA,WACA,SACA,SACA,cACA,eACA,gBACA,eACA,YACA,oBACA,sBACA,qBACA,sBACA,kBACA,mBACA,mBACA,YACA,MACA,YACA,kBACA,aACA,aACA,QACA,mBACA,SACA,SACA,YACA,WACA,OACA,aACA,iBACA,qBACA,YACA,KACA,OACA,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KACnC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KACnC,kBACA,iBACA,qBACA,oBAwBJ,OAAOC,OAAOC,KAAKH,GACdI,OAAO,SAAAC,GAAG,OAAIJ,EAAGK,SAASD,KAC1BD,OAAO,SAAAC,GAAG,OAAe,IAAXL,EAAEK,KAChBD,OAAO,SAAAC,GAAG,OAAe,OAAXL,EAAEK,KAChBE,OAAO,SAACC,EAAKH,GAOV,MANY,SAARA,GACAG,EAAG,MAAYR,EAAEK,GACjBG,EAAG,OAAaR,EAAEK,IAElBG,EA9BD,SAAAC,GACP,OAAQA,GACJ,IAAK,KAAM,MAAO,kBAClB,IAAK,IAAK,MAAO,SACjB,IAAK,KAAM,MAAO,YAClB,IAAK,KAAM,MAAO,cAClB,IAAK,KAAM,MAAO,eAClB,IAAK,KAAM,MAAO,aAClB,IAAK,KAAM,MAAO,UAClB,IAAK,KAAM,MAAO,UA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","file":"component---src-pages-index-js-902efcecb07b8b070bca.js","sourcesContent":["import React, { createContext, useContext, memo, useEffect, Component } from 'react'\nimport styled from 'styled-components'\nimport * as N from 'react-native'\nimport { transform } from '@babel/standalone'\nimport { ControlledEditor } from \"@monaco-editor/react\";\n\nexport const Box = memo(styled('div')(props => _css(props)))\n\nexport const _css = p => {\n    const _a = [\n        \"alignContent\",\n        \"alignItems\",\n        \"alignSelf\",\n        \"aspectRatio\",\n        \"backfaceVisibility\",\n        \"backgroundColor\",\n        \"borderBottomColor\",\n        \"borderBottomLeftRadius\",\n        \"borderBottomRightRadius\",\n        \"borderBottomWidth\",\n        \"borderColor\",\n        \"borderLeftColor\",\n        \"borderLeftWidth\",\n        \"borderRadius\",\n        \"borderRightColor\",\n        \"borderRightWidth\",\n        \"borderStyle\",\n        \"borderTopColor\",\n        \"borderTopLeftRadius\",\n        \"borderTopRightRadius\",\n        \"borderTopWidth\",\n        \"borderWidth\",\n        \"bottom\",\n        \"color\",\n        \"decomposedMatrix\",\n        \"direction\",\n        \"display\",\n        \"elevation\",\n        \"flex\",\n        \"flexBasis\",\n        \"flexDirection\",\n        \"flexGrow\",\n        \"flexShrink\",\n        \"flexWrap\",\n        \"fontFamily\",\n        \"fontSize\",\n        \"fontStyle\",\n        \"fontVariant\",\n        \"fontWeight\",\n        \"height\",\n        \"includeFontPadding\",\n        \"justifyContent\",\n        \"left\",\n        \"letterSpacing\",\n        \"lineHeight\",\n        \"margin\",\n        \"marginBottom\",\n        \"marginHorizontal\",\n        \"marginLeft\",\n        \"marginRight\",\n        \"marginTop\",\n        \"marginVertical\",\n        \"maxHeight\",\n        \"maxWidth\",\n        \"minHeight\",\n        \"minWidth\",\n        \"opacity\",\n        \"overflow\",\n        \"overlayColor\",\n        \"padding\",\n        \"paddingBottom\",\n        \"paddingHorizontal\",\n        \"paddingLeft\",\n        \"paddingRight\",\n        \"paddingTop\",\n        \"paddingVertical\",\n        \"position\",\n        \"resizeMode\",\n        \"right\",\n        \"rotation\",\n        \"scaleX\",\n        \"scaleY\",\n        \"shadowColor\",\n        \"shadowOffset\",\n        \"shadowOpacity\",\n        \"shadowRadius\",\n        \"textAlign\",\n        \"textAlignVertical\",\n        \"textDecorationColor\",\n        \"textDecorationLine\",\n        \"textDecorationStyle\",\n        \"textShadowColor\",\n        \"textShadowOffset\",\n        \"textShadowRadius\",\n        \"tintColor\",\n        \"top\",\n        \"transform\",\n        \"transformMatrix\",\n        \"translateX\",\n        \"translateY\",\n        \"width\",\n        \"writingDirection\",\n        \"zIndex\",\n        \"border\",\n        \"boxShadow\",\n        \"flexFlow\",\n        \"font\",\n        \"textShadow\",\n        \"textDecoration\",\n        \"textDecorationLine\",\n        \"transform\",\n        \"bg\",\n        \"size\",\n        \"m\", \"mt\", \"mb\", \"ml\", \"mr\", \"mx\", \"my\",\n        \"p\", \"pt\", \"pb\", \"pl\", \"pr\", \"px\", \"py\",\n        \"backgroundImage\",\n        \"backgroundSize\",\n        \"backgroundPosition\",\n        \"backgroundRepeat\"\n    ]\n\n    const _c = k => {\n        switch (k) {\n            case \"bg\": return \"backgroundColor\";\n            case \"m\": return \"margin\";\n            case \"mt\": return \"marginTop\";\n            case \"mr\": return \"marginRight\";\n            case \"mb\": return \"marginBottom\";\n            case \"ml\": return \"marginLeft\";\n            case \"mx\": return \"marginX\";\n            case \"my\": return \"marginY\";\n            case \"p\": return \"padding\";\n            case \"pt\": return \"paddingTop\";\n            case \"pr\": return \"paddingRight\";\n            case \"pb\": return \"paddingBottom\";\n            case \"pl\": return \"paddingLeft\";\n            case \"px\": return \"paddingX\";\n            case \"py\": return \"paddingY\";\n            default: return k;\n        }\n    }\n\n    return Object.keys(p)\n        .filter(key => _a.includes(key))\n        .filter(key => p[key] !== true)\n        .filter(key => p[key] !== null)\n        .reduce((obj, key) => {\n            if (key === \"size\") {\n                obj[\"width\"] = p[key]\n                obj[\"height\"] = p[key]\n            } else {\n                obj[_c(key)] = p[key];\n            }\n            return obj;\n        }, {});\n}\n\n//Context \nconst RCtx = createContext();\n\nexport const Context = ({ children, value }) => <RCtx.Provider value={value}>{children}</RCtx.Provider>\n\nexport const useValue = () => useContext(RCtx)\n//SearchBar\n\n\nexport const View = ({ src, ...props }) => src ? <Box as={N.ImageBackground} source={{ uri: src }} {...props} imageStyle={{ resizeMode: \"stretch\" }} /> : <Box as={N.View} {...props} />\nexport const Text = props => <Box as={N.Text} {...props} />\nexport const Button = props => <Box as={N.Button} {...props} />\n\n//Preview\nconst usePreview = ({ code, scope }) => {\n    const transformCode = code => {\n        return transform(code, {\n            presets: [['stage-0', { decoratorsLegacy: true }], 'react'],\n        }).code\n    }\n\n    let sC = `\n    const Root = () => <View flex={1} width={320} height={480} bg=\"white\" ml={10} mt={20}><App/></View>;\n    render(<Root />);\n    `\n    useEffect(() => {\n        let transformed = transformCode(code + sC)\n        const func = new Function(...Object.keys(scope), transformed)\n        func(...Object.values(scope))\n    }, [code])\n}\n\nexport const Preview = ({ code, scope, ...props }) => {\n    usePreview({ code, scope })\n    return <div {...props} id=\"preview\" />\n}\n\n\nexport class CodeEditor extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '',\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.value !== state.prevValueProp) {\n            return { value: props.value, prevValueProp: props.value };\n        }\n        return null;\n    }\n\n    updateContent = (ev, value) => {\n        this.setState({ value }, () => {\n            if (this.props.onChange) {\n                this.props.onChange(this.state.value);\n            }\n        });\n    };\n\n    render() {\n        // eslint-disable-next-line no-unused-vars\n        const {\n            value,\n            onChange,\n            ...rest\n        } = this.props;\n\n        return (\n            <ControlledEditor\n                height=\"90vh\"\n                theme=\"dark\"\n                value={value}\n                onChange={this.updateContent}\n                language=\"javascript\"\n                options={{\n                    fontSize: 18\n                }}\n                {...rest}\n            />\n        );\n    }\n}\n\nexport class ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: null, errorInfo: null };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // Catch errors in any components below and re-render with error message\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        })\n\n        setTimeout(function () {\n            this.setState({\n                error: null,\n                errorInfo: null\n            })\n        }.bind(this), 3000);\n    }\n\n    render() {\n        if (this.state.errorInfo) {\n            // Error path\n            return (\n                <Box flex={1}>\n                    <Box as={\"h2\"} color=\"red\">Error</Box>\n                    <Box color=\"darkblue\">\n                        {this.state.error && this.state.error.toString()}\n                        <br />\n                        {this.state.errorInfo.componentStack}\n                    </Box>\n                </Box>\n            );\n        }\n        // Normally, just render children\n        return this.props.children;\n    }\n}","import React, {\n    useEffect,\n    useContext,\n    useState,\n    useRef,\n    useReducer,\n    useMemo,\n    useCallback,\n} from \"react\"\nimport ReactDOM from 'react-dom'\nimport { Box, View, Text, Preview, Button, CodeEditor, ErrorBoundary } from \"../components\"\n// import ErrorBoundary from 'react-error-boundary';\n\nconst scope = {\n    React,\n    Fragment: React.Fragment,\n    Component: React.Component,\n    render: rrender(),\n    useEffect,\n    useContext,\n    useState,\n    useRef,\n    useReducer,\n    useMemo,\n    useCallback,\n    View,\n    Text,\n    Button\n}\n\nfunction rrender() {\n    return function render(element) {\n        ReactDOM.render(element, document.getElementById(\"preview\"))\n    }\n}\n\nconst initialCode = `\nconst App = () => <Text color=\"red\">Hi Kids</Text>\n`\n\nconst App = () => {\n    const [code, setCode] = useState(initialCode)\n\n    const handleEditorChange = (value) => {\n        if (value !== code) {\n            setCode(value)\n        }\n    };\n\n    return (\n        <div>\n            <CodeEditor\n                value={initialCode}\n                onChange={handleEditorChange}\n            />\n\n            <Box position=\"absolute\" top={5} right={5} width={340} height={500} bg=\"white\"\n                backgroundImage=\"url('https://raw.githubusercontent.com/koenbok/Framer/master/extras/DeviceResources/iphone-6-silver.png')\"\n                backgroundSize=\"cover\"\n                backgroundRepeat=\"no-repeat\"\n                backgroundPosition=\"center\"\n            >\n                <ErrorBoundary>\n                    <Preview code={code} scope={scope} />\n                </ErrorBoundary>\n            </Box>\n        </div>\n    );\n}\n\nexport default App;"],"sourceRoot":""}